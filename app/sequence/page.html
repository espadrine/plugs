<!doctype html>
<meta charset=utf-8>
<meta name=viewport content='width=device-width'>
{{ var title = path.slice(path.lastIndexOf('/') + 1) || 'The File Tree'; }}
<title> {{= title in html}} </title>

<link rel=stylesheet href=/lib/css/preview.css>

<iframe id=source src="{{= path in path in xmlattr}}?app=text"></iframe>
<div id=preview>
  <div id=error></div>
  <div id=output></div>
  <p>Open issues <a href="https://github.com/tpatel/OpenSequenceDiagrams.js/issues">here</a> if you find something going wrong !</p>
</div>

<script src=/lib/js/OpenSequenceDiagrams.js></script>

<script>
  var source = document.getElementById('source'),
      error = document.getElementById('error');

  source.contentWindow.addEventListener('message', function(event) {
    var errorText = Sequence.parse(event.data, 'output');
    error.innerHTML = errorText;
  });
</script>

<!-- Google Analytics -->
<script>var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-27876347-1']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})()</script>

